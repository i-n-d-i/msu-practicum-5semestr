## fifth homework - структуры данных 2

#### 1-Индекс максимума на подотрезках
 Реализуйте структуру данных "дерево отрезков" для эффективного вычисления номера максимального из нескольких подряд идущих элементов массива.

В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100000) — количество чисел в массиве.
Во второй строке вводятся N чисел от 1 до 100000 — элементы массива.
В третьей строке вводится одно натуральное число K (1 ≤ K ≤ 30000) — количество запросов на вычисление максимума.
В следующих K строках вводится по два числа — номера левого и правого элементов отрезка массива (считается, что элементы массива нумеруются с единицы).

Для каждого запроса выведите индекс максимального элемента на указанном отрезке массива. Если максимальных элементов несколько, выведите любой их них.
Числа выводите в одну строку через пробел. 

#### 2-Суммы на подотрезках с изменением элемента (дерево отрезков)
Реализуйте эффективную структуру данных "дерево отрезков", позволяющую изменять элементы массива и вычислять суммы нескольких подряд идущих элементов. Решения, использующие структуру данных "дерево Фенвика", в данной задаче приниматься не будут.

В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100000) — количество чисел в массиве.
Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.
В третьей строке вводится одно натуральное число M (1 ≤ M ≤ 30000) — количество запросов.
Каждая из следующих M строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (s — вычислить сумму, u — обновить значение элемента).
Следом за s вводятся два числа — номера левой и правой границы отрезка.
Следом за u вводятся два числа — номер элемента и его новое значение.

Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел.

#### 3-Суммы на подотрезках с изменением элемента (дерево Фенвика)
Реализуйте эффективную структуру данных "дерево Фенвика", позволяющую изменять элементы массива и вычислять суммы нескольких подряд идущих элементов. Решения, использующие структуру данных "дерево отрезков", в данной задаче приниматься не будут.

В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100000) — количество чисел в массиве.
Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.
В третьей строке вводится одно натуральное число M (1 ≤ M ≤ 30000) — количество запросов.
Каждая из следующих M строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (s — вычислить сумму, u — обновить значение элемента).
Следом за s вводятся два числа — номера левой и правой границы отрезка.
Следом за u вводятся два числа — номер элемента и его новое значение.

Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел. 

#### 5-Максимум на подотрезках с добавлением на отрезке
Реализуйте эффективную структуру данных для хранения массива и выполнения следующих операций: увеличение всех элементов данного интервала на одно и то же число; поиск максимума на интервале.

В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100000) — количество чисел в массиве.
Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.
В третьей строке вводится одно натуральное число M (1 ≤ M ≤ 30000) — количество запросов.
Каждая из следующих M строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (m — найти максимум, a — увеличить все элементы на отрезке).
Следом за m вводятся два числа — левая и правая граница интервала.
Следом за a вводятся три числа — левый и правый концы отрезка и число add, на которое нужно увеличить все элементы данного отрезка массива (0 ≤ add ≤ 100000).

Выведите в одну строку через пробел ответы на каждый запрос m. 
